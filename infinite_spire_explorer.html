<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Infinite Spire - Floor Explorer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);
            color: #e94560;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .header {
            text-align: center;
            padding: 20px;
            background: rgba(0,0,0,0.7);
            border-bottom: 2px solid #e94560;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 0 0 10px #e94560;
        }

        .header p {
            color: #b0b0b0;
            font-size: 1.1em;
        }

        .container {
            display: flex;
            height: calc(100vh - 120px);
        }

        .tower-section {
            width: 30%;
            background: rgba(0,0,0,0.5);
            border-right: 2px solid #e94560;
            overflow-y: auto;
            padding: 20px;
        }

        .controls {
            margin-bottom: 20px;
        }

        .search-input {
            width: 100%;
            padding: 10px;
            background: rgba(20,20,40,0.8);
            border: 1px solid #e94560;
            color: #e94560;
            border-radius: 5px;
            margin-bottom: 10px;
        }

        .filter-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .filter-btn {
            padding: 5px 10px;
            background: rgba(233,69,96,0.2);
            border: 1px solid #e94560;
            color: #e94560;
            cursor: pointer;
            border-radius: 3px;
            font-size: 0.8em;
            transition: all 0.3s;
        }

        .filter-btn:hover, .filter-btn.active {
            background: #e94560;
            color: #000;
        }

        .tower-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 2px;
            margin-top: 20px;
        }

        .floor-tile {
            aspect-ratio: 1;
            background: rgba(233,69,96,0.1);
            border: 1px solid #e94560;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            font-size: 0.8em;
        }

        .floor-tile:hover {
            background: rgba(233,69,96,0.3);
            transform: scale(1.05);
        }

        .floor-tile.selected {
            background: #e94560;
            color: #000;
            box-shadow: 0 0 15px #e94560;
        }

        .floor-tile.detailed {
            border-color: #ffdd00;
            box-shadow: 0 0 5px #ffdd00;
        }

        .detail-section {
            width: 70%;
            padding: 20px;
            overflow-y: auto;
        }

        .floor-detail {
            display: none;
            animation: fadeIn 0.3s;
        }

        .floor-detail.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .floor-header {
            border-bottom: 2px solid #e94560;
            padding-bottom: 15px;
            margin-bottom: 20px;
        }

        .floor-title {
            font-size: 2em;
            margin-bottom: 5px;
        }

        .floor-number {
            color: #ffdd00;
            font-size: 1.2em;
        }

        .detail-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .detail-card {
            background: rgba(0,0,0,0.3);
            border: 1px solid #e94560;
            border-radius: 5px;
            padding: 15px;
        }

        .detail-card h3 {
            color: #ffdd00;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .detail-card p, .detail-card ul {
            line-height: 1.6;
            color: #b0b0b0;
        }

        .detail-card ul {
            padding-left: 20px;
        }

        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 5px;
        }

        .status-detailed { background: #ffdd00; }
        .status-basic { background: #e94560; }
        .status-empty { background: #666; }

        .legend {
            margin-top: 20px;
            padding: 10px;
            background: rgba(0,0,0,0.3);
            border-radius: 5px;
        }

        .legend h4 {
            color: #ffdd00;
            margin-bottom: 10px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
            font-size: 0.9em;
        }

        .random-btn {
            width: 100%;
            padding: 10px;
            background: rgba(255,221,0,0.2);
            border: 1px solid #ffdd00;
            color: #ffdd00;
            cursor: pointer;
            border-radius: 5px;
            margin-top: 10px;
            transition: all 0.3s;
        }

        .random-btn:hover {
            background: #ffdd00;
            color: #000;
        }

        .placeholder-note {
            color: #888;
            font-style: italic;
            margin-top: 10px;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.3);
        }

        ::-webkit-scrollbar-thumb {
            background: #e94560;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>THE INFINITE SPIRE</h1>
        <p>Prometheus Corporation Research Facility - 100 Floors of Adaptive Evolution</p>
    </div>

    <div class="container">
        <div class="tower-section">
            <div class="controls">
                <input type="text" class="search-input" placeholder="Search floors..." id="searchInput">
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="detailed">Detailed</button>
                    <button class="filter-btn" data-filter="environmental">Environmental</button>
                    <button class="filter-btn" data-filter="social">Social</button>
                    <button class="filter-btn" data-filter="technological">Technological</button>
                    <button class="filter-btn" data-filter="hazardous">Hazardous</button>
                </div>
                <button class="random-btn" id="randomFloor">Random Floor</button>
            </div>

            <div class="legend">
                <h4>Floor Status</h4>
                <div class="legend-item">
                    <span class="status-indicator status-detailed"></span>
                    Fully Detailed
                </div>
                <div class="legend-item">
                    <span class="status-indicator status-basic"></span>
                    Basic Template
                </div>
                <div class="legend-item">
                    <span class="status-indicator status-empty"></span>
                    Undeveloped
                </div>
            </div>

            <div class="tower-grid" id="towerGrid">
                <!-- Floor tiles will be generated here -->
            </div>
        </div>

        <div class="detail-section" id="detailSection">
            <div class="floor-detail active" id="defaultView">
                <div class="floor-header">
                    <div class="floor-title">Welcome to The Infinite Spire</div>
                    <div class="floor-number">Select a floor to explore its mysteries</div>
                </div>
                <div class="detail-card">
                    <h3>About This Tool</h3>
                    <p>This interactive explorer allows you to navigate the 100 floors of the Infinite Spire, each containing its own unique ecosystem and Singularity effects. Click on any floor number to view detailed information about its environment, inhabitants, and challenges.</p>
                    <p>Some floors are fully detailed, others have basic templates, and many await your creative development. Use the filters and search to find specific types of floors for your campaign needs.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const floorData = {
            1: {
                name: "The Entrance Hall",
                type: "environmental",
                status: "detailed",
                environment: "A massive atrium with impossible geometry. The ceiling stretches infinitely upward, lined with dormant observation windows.",
                singularity: "Spatial Anchor - Maintains stable entry point while allowing infinite expansion of connected spaces.",
                inhabitants: "Automated welcome constructs (mostly broken), occasional Pilgrim camps near the entrance.",
                challenges: "Navigating bureaucratic security systems, avoiding malfunctioning guardian constructs.",
                resources: "Basic supplies, orientation materials, access to the elevator system.",
                notes: "The only way in or out of the tower. All expeditions must return here eventually."
            },
            12: {
                name: "The Endless Forest",
                type: "environmental",
                status: "detailed",
                environment: "Dense, ever-growing woodland where trees reach impossible heights. The canopy blocks out all natural light, replaced by bioluminescent fungi.",
                singularity: "Perpetual Growth - All organic matter continuously evolves and adapts at an accelerated rate.",
                inhabitants: "Tree-bound humans who've fused with the forest, speaking through rustling leaves. Evolved flora with primitive intelligence.",
                challenges: "Navigation through shifting pathways, avoiding predatory plants, negotiating with tree-folk who communicate through pheromones.",
                resources: "Rapidly-growing food sources, living wood that reshapes itself, medicinal fungi with adaptive properties.",
                notes: "The trees remember everything. Some say if you listen carefully, you can hear the whispers of the first test subjects."
            },
            27: {
                name: "The Memory Desert",
                type: "technological",
                status: "detailed",
                environment: "Vast sandy wasteland where the sand is composed of crystallized memories. Memory fragments replay like mirages across the landscape.",
                singularity: "Temporal Fragments - Past events replay randomly across the landscape, sometimes bleeding into reality.",
                inhabitants: "Echo-people (remnants of memories given form), Chroniclers (humans who catalog the memories and trade in information).",
                challenges: "Distinguishing reality from memory echoes, avoiding being trapped in memory loops, memory storms that can overwrite personality.",
                resources: "Information about the tower's past, memory crystals that grant temporary knowledge or skills, echo-artifacts from other timelines.",
                notes: "Every step disturbs someone's forgotten moment. The deeper you dig, the older the memories become."
            },
            45: {
                name: "The Probability Maze",
                type: "technological",
                status: "detailed",
                environment: "Urban environment where buildings and streets constantly rearrange based on statistical likelihood and quantum uncertainty.",
                singularity: "Quantum Architecture - Physical space reshapes based on probability calculations and observer effects.",
                inhabitants: "Actuary-Cultists who worship statistical certainty, Chaos-Walkers who've learned to navigate uncertainty through pure intuition.",
                challenges: "Finding stable paths through shifting geometry, avoiding probability storms, solving statistical puzzles to unlock areas.",
                resources: "Probability engines that can influence chance, stable materials that resist quantum fluctuation, statistical prediction devices.",
                notes: "The maze responds to expectations. The more certain you are of your path, the more likely it is to change."
            },
            63: {
                name: "The Emotional Seas",
                type: "social",
                status: "detailed",
                environment: "Vast ocean where the water's properties change based on the collective emotions of those within it. Islands of crystallized feelings dot the seascape.",
                singularity: "Empathic Tides - Emotions become physical forces affecting water density, temperature, and even toxicity.",
                inhabitants: "Mood-Sailors who navigate emotional currents, Empaths who've learned to read and manipulate the emotional weather, isolated researchers in emotion-proof bunkers.",
                challenges: "Managing group emotional states, surviving emotional storms, communicating with empathic sea life that reflects human feelings.",
                resources: "Emotion-stabilizing equipment, empathic communication devices, crystallized emotions that can be used as materials.",
                notes: "The sea remembers every feeling ever felt here. In its depths lie the nightmares of the first test subjects."
            },
            78: {
                name: "The Social Hierarchy",
                type: "social",
                status: "detailed",
                environment: "Massive bureaucratic complex where social status literally determines your physical elevation and access to resources.",
                singularity: "Status Manifestation - Social standing becomes a measurable, tradeable physical force that affects gravity and access permissions.",
                inhabitants: "Status-climbers constantly vying for position, Underground equality movements, Networking AIs that assign social scores.",
                challenges: "Navigating complex social rules, managing reputation scores, avoiding social exile to the lower levels.",
                resources: "Status manipulation tools, social networking equipment, hierarchy maps, reputation credit systems.",
                notes: "Your social standing is literally your physical height here. Fall too low, and the floor itself will reject you."
            },
            89: {
                name: "The Final Synthesis",
                type: "hazardous",
                status: "detailed",
                environment: "Laboratory complex attempting to combine all previous floor experiments. Reality becomes increasingly unstable as multiple Singularities interact.",
                singularity: "Convergent Evolution - Multiple Singularity effects interact unpredictably, creating new hybrid phenomena.",
                inhabitants: "Hybrid beings combining traits from multiple floors, mad scientists continuing the work, AI systems trying to maintain stability.",
                challenges: "Unpredictable reality shifts, moral dilemmas about human experimentation, unstable Singularity interactions.",
                resources: "Master control devices, synthesis equipment, complete records of the original experiments, hybrid technologies.",
                notes: "This is where Prometheus Corporation tried to create the 'perfect human.' The failures are still wandering the halls."
            },
            100: {
                name: "The Architect's Vision",
                type: "hazardous",
                status: "detailed",
                environment: "A perfect white void containing a single desk, chair, and the original blueprints for human evolution itself.",
                singularity: "Divine Blueprint - The power to rewrite the fundamental nature of humanity and consciousness.",
                inhabitants: "The Architect (possibly still alive, possibly just an echo), manifestations of human potential, the ghost of corporate ambition.",
                challenges: "Resisting the temptation to use the ultimate power, understanding the true cost of evolution, deciding humanity's future.",
                resources: "The complete Prometheus research data, the master Singularity control system, the power to reshape reality itself.",
                notes: "The final floor contains the answer to what humanity should become. Whether that answer should be used is up to you."
            }
        };

        // Generate floor templates for undeveloped floors
        const floorTemplates = [
            { type: "environmental", themes: ["Frozen tundra", "Volcanic chambers", "Floating islands", "Underground caverns", "Crystal formations"] },
            { type: "social", themes: ["Corporate dystopia", "Tribal societies", "Hive minds", "Isolated communities", "Trading posts"] },
            { type: "technological", themes: ["AI networks", "Virtual reality", "Time manipulation", "Dimensional rifts", "Quantum experiments"] },
            { type: "hazardous", themes: ["Toxic waste", "Radiation zones", "Predator ecosystems", "Psychological warfare", "Reality breaks"] }
        ];

        function generateFloorTemplate(floorNumber) {
            const template = floorTemplates[floorNumber % floorTemplates.length];
            const theme = template.themes[floorNumber % template.themes.length];
            
            return {
                name: `Floor ${floorNumber} - ${theme}`,
                type: template.type,
                status: "basic",
                environment: `[Template] A ${theme.toLowerCase()} environment with infinite expansion capabilities.`,
                singularity: "[Template] Unique Singularity effect to be determined based on campaign needs.",
                inhabitants: "[Template] Adapted humans and possible AI constructs specific to this environment.",
                challenges: "[Template] Environmental hazards and social/technological obstacles.",
                resources: "[Template] Specialized materials and information relevant to this floor's theme.",
                notes: "This floor awaits development. Use this template as a starting point for your campaign needs."
            };
        }

        function initializeTower() {
            const grid = document.getElementById('towerGrid');
            
            // Generate floors 100 to 1 (top to bottom)
            for (let i = 100; i >= 1; i--) {
                const tile = document.createElement('div');
                tile.className = 'floor-tile';
                tile.textContent = i;
                tile.dataset.floor = i;
                
                const data = floorData[i];
                if (data) {
                    if (data.status === 'detailed') {
                        tile.classList.add('detailed');
                    }
                } else {
                    tile.classList.add('basic');
                }
                
                tile.addEventListener('click', () => showFloorDetail(i));
                grid.appendChild(tile);
            }
        }

        function showFloorDetail(floorNumber) {
            // Clear previous selection
            document.querySelectorAll('.floor-tile').forEach(tile => {
                tile.classList.remove('selected');
            });
            
            // Select current floor
            document.querySelector(`[data-floor="${floorNumber}"]`).classList.add('selected');
            
            // Hide default view
            document.getElementById('defaultView').classList.remove('active');
            
            // Remove existing detail views
            document.querySelectorAll('.floor-detail:not(#defaultView)').forEach(el => el.remove());
            
            // Get floor data
            let data = floorData[floorNumber];
            if (!data) {
                data = generateFloorTemplate(floorNumber);
            }
            
            // Create detail view
            const detailDiv = document.createElement('div');
            detailDiv.className = 'floor-detail active';
            detailDiv.innerHTML = `
                <div class="floor-header">
                    <div class="floor-title">${data.name}</div>
                    <div class="floor-number">Floor ${floorNumber} • ${data.type.charAt(0).toUpperCase() + data.type.slice(1)} • ${data.status.charAt(0).toUpperCase() + data.status.slice(1)}</div>
                </div>
                <div class="detail-grid">
                    <div class="detail-card">
                        <h3>Environment</h3>
                        <p>${data.environment}</p>
                    </div>
                    <div class="detail-card">
                        <h3>Singularity Effect</h3>
                        <p>${data.singularity}</p>
                    </div>
                    <div class="detail-card">
                        <h3>Inhabitants</h3>
                        <p>${data.inhabitants}</p>
                    </div>
                    <div class="detail-card">
                        <h3>Challenges</h3>
                        <p>${data.challenges}</p>
                    </div>
                </div>
                <div class="detail-card">
                    <h3>Available Resources</h3>
                    <p>${data.resources}</p>
                </div>
                <div class="detail-card">
                    <h3>GM Notes</h3>
                    <p>${data.notes}</p>
                    ${data.status === 'basic' ? '<p class="placeholder-note">This floor uses a basic template. Expand and customize it for your campaign!</p>' : ''}
                </div>
            `;
            
            document.getElementById('detailSection').appendChild(detailDiv);
        }

        function filterFloors(filterType) {
            const tiles = document.querySelectorAll('.floor-tile');
            tiles.forEach(tile => {
                const floorNumber = parseInt(tile.dataset.floor);
                let data = floorData[floorNumber];
                if (!data) {
                    data = generateFloorTemplate(floorNumber);
                }
                
                if (filterType === 'all') {
                    tile.style.display = 'flex';
                } else if (filterType === 'detailed') {
                    tile.style.display = data.status === 'detailed' ? 'flex' : 'none';
                } else {
                    tile.style.display = data.type === filterType ? 'flex' : 'none';
                }
            });
        }

        function searchFloors(query) {
            const tiles = document.querySelectorAll('.floor-tile');
            tiles.forEach(tile => {
                const floorNumber = parseInt(tile.dataset.floor);
                let data = floorData[floorNumber];
                if (!data) {
                    data = generateFloorTemplate(floorNumber);
                }
                
                const searchText = `${data.name} ${data.environment} ${data.singularity} ${data.inhabitants}`.toLowerCase();
                tile.style.display = searchText.includes(query.toLowerCase()) ? 'flex' : 'none';
            });
        }

        function getRandomFloor() {
            const detailedFloors = Object.keys(floorData).map(Number);
            const randomFloor = detailedFloors[Math.floor(Math.random() * detailedFloors.length)];
            showFloorDetail(randomFloor);
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', () => {
            initializeTower();
            
            // Setup event listeners
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    e.target.classList.add('active');
                    filterFloors(e.target.dataset.filter);
                });
            });
            
            document.getElementById('searchInput').addEventListener('input', (e) => {
                searchFloors(e.target.value);
            });
            
            document.getElementById('randomFloor').addEventListener('click', getRandomFloor);
        });
    </script>
</body>
</html>